var O=Object.defineProperty,S=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var g=(u,t,e)=>t in u?O(u,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[t]=e,C=(u,t)=>{for(var e in t||(t={}))q.call(t,e)&&g(u,e,t[e]);if(A)for(var e of A(t))P.call(t,e)&&g(u,e,t[e]);return u},F=(u,t)=>S(u,j(t));var I=(u,t,e)=>(g(u,typeof t!="symbol"?t+"":t,e),e);import{e as R,d as M,c as z,r as K,o as p,a as m,b as $,f as E,n as k,u as h,t as X,w as x,F as B,g as D,h as L,i as b,j as Y,k as G,l as J,m as Q}from"./vendor.9e3ce896.js";const U=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&d(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(o){if(o.ep)return;o.ep=!0;const a=e(o);fetch(o.href,a)}};U();const N=new R;var T=(u,t)=>{const e=u.__vccOpts||u;for(const[d,o]of t)e[d]=o;return e};const W={key:0,role:"presentation",class:"tree-node__background"},Z={key:0},ee=["id","value"],te={key:1,role:"group",ref:"group",class:"tree-node__children"},ne={name:"VTreeItem"},oe=M(F(C({},ne),{props:{data:null,menu:null},emits:[""],setup(u,{emit:t}){const e=u,d=z(()=>e.data.children);function o(c,n){n.opended=!n.opended,e.menu.hiddenMenu(c)}function a(c,n){N.emit("contextMenu",c,n)}function f(c,n){const _=c.srcElement.value||"";n.text=_}function y(c,n){n.rename=!n.rename}return(c,n)=>{var s,r,l,v,w;const _=K("tree-item",!0);return e.data.delete?$("",!0):(p(),m("li",{key:0,class:k(["tree-node",{"is-opend":(s=e.data)==null?void 0:s.opended,"is-close":!((r=e.data)==null?void 0:r.opended)}]),role:"treeitem",onClick:n[4]||(n[4]=x(i=>o(i,e.data),["stop"])),onMouseover:n[5]||(n[5]=x(i=>e.data.isHover=!e.data.isHover,["stop"])),onMouseout:n[6]||(n[6]=x(i=>e.data.isHover=!e.data.isHover,["stop"])),onContextmenu:n[7]||(n[7]=x(i=>a(i,e.data),["stop"]))},[e.data.isHover?(p(),m("div",W," \xA0 ")):$("",!0),E("i",{class:k({"tree-anchor":h(d),"tree-node__icon":h(d)}),role:"presentation"},null,2),E("div",{class:k({"tree-anchor":!0,"tree-selected":(l=e.data)==null?void 0:l.selected,"tree-hovered":(v=e.data)==null?void 0:v.isHover})},[E("i",{class:k(["tree-node__icon",{"no-filder":!h(d)}]),role:"presentation"},null,2),u.data.rename?(p(),m("input",{key:1,id:e.data.id+"",class:"tree-node__input",type:"text",value:u.data.text,onInput:n[0]||(n[0]=i=>f(i,e.data)),onBlur:n[1]||(n[1]=i=>y(i,e.data)),onClick:n[2]||(n[2]=x(i=>{},["stop"]))},null,40,ee)):(p(),m("span",Z,X(u.data.text),1))],2),h(d)?(p(),m("ul",te,[(p(!0),m(B,null,D((w=e.data)==null?void 0:w.children,(i,V)=>(p(),L(_,{key:V,data:i,menu:e.menu,onIconClick:n[3]||(n[3]=pe=>e.data.opended=!e.data.opended)},null,8,["data","menu"]))),128))],512)):$("",!0)],34))}}}));var re=T(oe,[["__scopeId","data-v-54ba88bd"]]);class ue{constructor(t){I(this,"menu");this.menu=this.createMenu(t)}createMenu(t){const e=document.createElement("ul");if(e.classList.add("tree-custom-menu"),t&&t.length>0)for(let o of t){const a=document.createElement("li");a.textContent=o.name,a.onclick=o.onClick,e.appendChild(a)}return document.querySelector("body").appendChild(e),e}showMenu(t){const e=this.menu;e.style.top=`${t.clientY}px`,e.style.left=`${t.clientX}px`,e.style.display="block"}hiddenMenu(t){const e=this.menu;e.style.display="none"}}const ae={role:"tree"},se={role:"group",class:"tree"},de={name:"VTree"},le=M(F(C({},de),{props:{data:null},setup(u){const t=u;let e=1;const d=b([]),o=b({});function a(s,r){return s.map(l=>({id:e++,anchorID:r,text:l.text||"\u672A\u77E5\u6587\u4EF6",opended:l.opended||!1,selected:l.selected||!1,children:l.children?a(l.children,`${r}-${e-1}`):void 0,icon:l.icon||"",rename:l.rename||!1}))}Y(()=>t.data,s=>{d.value=s.map(r=>({id:e++,text:r.text||"\u672A\u77E5\u6587\u4EF6",opended:r.opended||!1,selected:r.selected||!1,children:r.children?a(r.children,`${e-1}`):void 0,icon:r.icon||"",rename:r.rename||!1}))},{deep:!0,immediate:!0});const f={id:e++,text:"\u672A\u77E5\u6587\u4EF6",opended:!1,selected:!1,children:[],icon:"",rename:!0},y={id:e++,text:"\u672A\u77E5\u6587\u4EF6",opended:!1,selected:!1,icon:"",rename:!0};function c(s){G(()=>{const r=document.getElementById(`${s}`);r==null||r.focus()})}const n=new ue([{name:"\u65B0\u5EFA\u76EE\u5F55",onClick:function(s){var r;n.hiddenMenu(s),(r=o.value.children)==null||r.push(f),c(f.id)}},{name:"\u65B0\u5EFA\u6587\u4EF6",onClick:function(s){var r;n.hiddenMenu(s),(r=o.value.children)==null||r.push(y),c(y.id)}},{name:"\u91CD\u547D\u540D",onClick:function(s){n.hiddenMenu(s),o.value.rename=!o.value.rename,c(o.value.id)}},{name:"\u5220\u9664",onClick:function(s){n.hiddenMenu(s),o.value.delete=!o.value.delete}}]);function _(s,r){s.preventDefault(),o.value=r,n.showMenu(s)}return N.on("contextMenu",_),(s,r)=>(p(),m("div",ae,[E("ul",se,[(p(!0),m(B,null,D(d.value,(l,v)=>(p(),L(re,{key:v,data:l,menu:h(n)},null,8,["data","menu"]))),128))])]))}}));var H=T(le,[["__scopeId","data-v-2c6ec93c"]]);const ie={style:{width:"300px",border:"1px solid #eee"}},ce=M({setup(u){const t=b([{text:"\u6587\u4EF6",children:[{text:"\u6587\u4EF61",children:[{text:"\u6587\u4EF61"},{text:"\u6587\u672C3",children:[{text:"\u6587\u4EF61"},{text:"\u6587\u672C3"}]}]},{text:"\u6587\u4EF63"},{text:"\u6587\u4EF63"}]},{text:"\u6587\u4EF6",children:[{text:"\u6587\u4EF61",children:[{text:"\u6587\u4EF61"}]}]},{text:"\u6587\u4EF6",children:[]}]);return console.log(H.name),(e,d)=>(p(),m("div",ie,[J(H,{data:t.value},null,8,["data"])]))}});Q(ce).mount("#app");
