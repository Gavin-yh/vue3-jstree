var q=Object.defineProperty,j=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var B=(u,t,e)=>t in u?q(u,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[t]=e,$=(u,t)=>{for(var e in t||(t={}))R.call(t,e)&&B(u,e,t[e]);if(b)for(var e of b(t))z.call(t,e)&&B(u,e,t[e]);return u},w=(u,t)=>j(u,P(t));var D=(u,t,e)=>(B(u,typeof t!="symbol"?t+"":t,e),e);import{e as K,d as A,r as h,c as X,a as Y,o as f,b as _,f as I,g as C,n as F,u as g,t as G,w as E,F as N,h as T,i as L,j as J,k as Q,l as U,m as W,p as Z,q as ee,s as te,v as ne}from"./vendor.ecfeacfe.js";const oe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}};oe();const M=new K;var S=(u,t)=>{const e=u.__vccOpts||u;for(const[a,o]of t)e[a]=o;return e};const ue={key:0,role:"presentation",class:"tree-node__background"},le={key:0},re=["id","value"],se={key:1,role:"group",ref:"group",class:"tree-node__children"},ae={name:"VTreeItem"},de=A(w($({},ae),{props:{data:null,menu:null},emits:[""],setup(u,{emit:t}){const e=u,a=h({}),o=h({}),r=X(()=>e.data.children);function i(m,n){n.opended=!n.opended,J(n,a.value)||(n.selected=!n.selected,o.value=n,Q(a.value)&&(a.value.selected=!1),a.value=n),e.menu.hiddenMenu(m),M.emit("toggleSelectBar",m,n.selected?"block":"none")}function k(m){M.emit("contextMenu",m,o.value)}function x(m,n){const l=m.srcElement.value||"";n.text=l}function v(m,n){n.rename=!n.rename}return(m,n)=>{var s,d,c,y;const l=Y("tree-item",!0);return e.data.delete?I("",!0):(f(),_("li",{key:0,class:F(["tree-node",{"is-opend":(s=e.data)==null?void 0:s.opended,"is-close":!((d=e.data)==null?void 0:d.opended)}]),role:"treeitem",onClick:n[4]||(n[4]=E(p=>i(p,e.data),["stop"])),onMouseover:n[5]||(n[5]=E(p=>e.data.isHover=!e.data.isHover,["stop"])),onMouseout:n[6]||(n[6]=E(p=>e.data.isHover=!e.data.isHover,["stop"])),onContextmenu:n[7]||(n[7]=E(p=>k(p),["stop"]))},[e.data.isHover?(f(),_("div",ue)):I("",!0),C("i",{class:F({"tree-anchor":g(r),"tree-node__icon":g(r)}),role:"presentation"},null,2),C("div",{class:F({"tree-anchor":!0,"tree-selected":(c=e.data)==null?void 0:c.selected})},[C("i",{class:F(["tree-node__icon",{"no-filder":!g(r)}]),role:"presentation"},null,2),u.data.rename?(f(),_("input",{key:1,id:e.data.id+"",class:"tree-node__input",type:"text",value:u.data.text,onInput:n[0]||(n[0]=p=>x(p,e.data)),onBlur:n[1]||(n[1]=p=>v(p,e.data)),onClick:n[2]||(n[2]=E(p=>{},["stop"]))},null,40,re)):(f(),_("span",le,G(u.data.text),1))],2),g(r)?(f(),_("ul",se,[(f(!0),_(N,null,T((y=e.data)==null?void 0:y.children,(p,O)=>(f(),L(l,{key:O,data:p,menu:e.menu,onIconClick:n[3]||(n[3]=xe=>e.data.opended=!e.data.opended)},null,8,["data","menu"]))),128))],512)):I("",!0)],34))}}}));var ie=S(de,[["__scopeId","data-v-3c8f16e7"]]);class ce{constructor(t){D(this,"menu");this.menu=this.createMenu(t)}createMenu(t){const e=document.createElement("ul");if(e.classList.add("tree-custom-menu"),t&&t.length>0)for(let o of t){const r=document.createElement("li");r.textContent=o.name,r.onclick=o.onClick,e.appendChild(r)}return document.querySelector("body").appendChild(e),e}showMenu(t){const e=this.menu;e.style.top=`${t.clientY}px`,e.style.left=`${t.clientX}px`,e.style.display="block"}hiddenMenu(t){const e=this.menu;e.style.display="none"}}function V(u){const t=[],e=[];for(let a=0;a<u.length;a++){const o=u[a];o.children?e.push(o):t.push(o)}return[...e,...t]}const pe={role:"tree"},fe={role:"group",class:"tree"},me={name:"VTree"},_e=A(w($({},me),{props:{data:null,highlightCurrent:{type:Boolean},defaultExpandAll:{type:Boolean}},setup(u){const t=u;U(l=>({"7e6bf930":o.value,"663608c3":a.value}));let e=1;const a=h(0),o=h("none"),r=h([]),i=h({});function k(l,s){const d=l.map(c=>({id:e++,anchorID:s,text:c.text||"\u672A\u77E5\u6587\u4EF6",opended:t.defaultExpandAll||c.opended||!1,selected:c.selected||!1,children:c.children?k(c.children,`${s}-${e-1}`):void 0,rename:c.rename||!1}));return V(d)}W(()=>t.data,l=>{const s=l.map(d=>({id:e++,text:d.text||"\u672A\u77E5\u6587\u4EF6",opended:t.defaultExpandAll||d.opended||!1,selected:d.selected||!1,children:d.children?k(d.children,`${e-1}`):void 0,rename:d.rename||!1}));r.value=V(s)},{deep:!0,immediate:!0});function x(l){ee(()=>{const s=document.getElementById(`${l}`);s==null||s.focus()})}const v=new ce([{name:"\u65B0\u5EFA\u76EE\u5F55",onClick:function(l){var c;const s={id:e++,text:"\u672A\u77E5\u6587\u4EF6",opended:!1,selected:!1,children:[],rename:!0};v.hiddenMenu(l);const d=Z(i.value.children,y=>!y.children);(c=i.value.children)==null||c.splice(d,0,s),x(s.id)}},{name:"\u65B0\u5EFA\u6587\u4EF6",onClick:function(l){var d;const s={id:e++,text:"\u672A\u77E5\u6587\u4EF6",opended:!1,selected:!1,rename:!0};v.hiddenMenu(l),(d=i.value.children)==null||d.push(s),x(s.id)}},{name:"\u91CD\u547D\u540D",onClick:function(l){v.hiddenMenu(l),i.value.rename=!i.value.rename,x(i.value.id)}},{name:"\u5220\u9664",onClick:function(l){v.hiddenMenu(l),i.value.delete=!i.value.delete}}]);function m(l,s){l.preventDefault(),i.value=s,v.showMenu(l)}function n(l,s){a.value=l.target.offsetTop,o.value=s}return M.on("contextMenu",m),t.highlightCurrent&&M.on("toggleSelectBar",n),(l,s)=>(f(),_("div",pe,[C("ul",fe,[(f(!0),_(N,null,T(r.value,(d,c)=>(f(),L(ie,{key:c,data:d,menu:g(v)},null,8,["data","menu"]))),128))])]))}}));var H=S(_e,[["__scopeId","data-v-0cc2ede3"]]);const ve={style:{width:"100%",border:"1px solid #eee"}},he=A({setup(u){const t=h([{text:"\u6587\u4EF6",children:[{text:"\u6587\u4EF61",children:[{text:"\u6587\u4EF61"},{text:"\u6587\u672C3",children:[{text:"\u6587\u4EF61"},{text:"\u6587\u672C3"}]}]},{text:"\u6587\u4EF63"},{text:"\u6587\u4EF63"}]},{text:"\u6587\u4EF6",children:[{text:"\u6587\u4EF61",children:[{text:"\u6587\u4EF61"}]}]},{text:"\u6587\u4EF6"},{text:"\u6587\u4EF6",children:[]}]);return console.log(H.name),(e,a)=>(f(),_("div",ve,[te(H,{data:t.value,"highlight-current":"","default-expand-all":""},null,8,["data"])]))}});ne(he).mount("#app");
