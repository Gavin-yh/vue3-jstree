var O=Object.defineProperty,q=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var $=(r,t,e)=>t in r?O(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,B=(r,t)=>{for(var e in t||(t={}))P.call(t,e)&&$(r,e,t[e]);if(I)for(var e of I(t))R.call(t,e)&&$(r,e,t[e]);return r},b=(r,t)=>q(r,j(t));var D=(r,t,e)=>($(r,typeof t!="symbol"?t+"":t,e),e);import{e as z,d as w,r as _,c as K,a as X,o as m,b as f,f as A,g as C,n as F,u as x,t as Y,w as y,F as N,h as T,i as L,j as G,k as J,l as Q,m as U,p as W,q as Z,s as ee}from"./vendor.39a248da.js";const te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const s of u)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function e(u){const s={};return u.integrity&&(s.integrity=u.integrity),u.referrerpolicy&&(s.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?s.credentials="include":u.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(u){if(u.ep)return;u.ep=!0;const s=e(u);fetch(u.href,s)}};te();const M=new z;var V=(r,t)=>{const e=r.__vccOpts||r;for(const[d,u]of t)e[d]=u;return e};const ne={key:0,role:"presentation",class:"tree-node__background"},oe={key:0},ue=["id","value"],re={key:1,role:"group",ref:"group",class:"tree-node__children"},se={name:"VTreeItem"},ae=w(b(B({},se),{props:{data:null,menu:null},emits:[""],setup(r,{emit:t}){const e=r,d=_({}),u=_({}),s=K(()=>e.data.children);function c(p,n){n.opended=!n.opended,G(n,d.value)||(n.selected=!n.selected,u.value=n,J(d.value)&&(d.value.selected=!1),d.value=n),e.menu.hiddenMenu(p),M.emit("toggleSelectBar",p,n.selected?"block":"none")}function h(p){M.emit("contextMenu",p,u.value)}function E(p,n){const v=p.srcElement.value||"";n.text=v}function g(p,n){n.rename=!n.rename}return(p,n)=>{var k,a,o,i;const v=X("tree-item",!0);return e.data.delete?A("",!0):(m(),f("li",{key:0,class:F(["tree-node",{"is-opend":(k=e.data)==null?void 0:k.opended,"is-close":!((a=e.data)==null?void 0:a.opended)}]),role:"treeitem",onClick:n[4]||(n[4]=y(l=>c(l,e.data),["stop"])),onMouseover:n[5]||(n[5]=y(l=>e.data.isHover=!e.data.isHover,["stop"])),onMouseout:n[6]||(n[6]=y(l=>e.data.isHover=!e.data.isHover,["stop"])),onContextmenu:n[7]||(n[7]=y(l=>h(l),["stop"]))},[e.data.isHover?(m(),f("div",ne)):A("",!0),C("i",{class:F({"tree-anchor":x(s),"tree-node__icon":x(s)}),role:"presentation"},null,2),C("div",{class:F({"tree-anchor":!0,"tree-selected":(o=e.data)==null?void 0:o.selected})},[C("i",{class:F(["tree-node__icon",{"no-filder":!x(s)}]),role:"presentation"},null,2),r.data.rename?(m(),f("input",{key:1,id:e.data.id+"",class:"tree-node__input",type:"text",value:r.data.text,onInput:n[0]||(n[0]=l=>E(l,e.data)),onBlur:n[1]||(n[1]=l=>g(l,e.data)),onClick:n[2]||(n[2]=y(l=>{},["stop"]))},null,40,ue)):(m(),f("span",oe,Y(r.data.text),1))],2),x(s)?(m(),f("ul",re,[(m(!0),f(N,null,T((i=e.data)==null?void 0:i.children,(l,H)=>(m(),L(v,{key:H,data:l,menu:e.menu,onIconClick:n[3]||(n[3]=ve=>e.data.opended=!e.data.opended)},null,8,["data","menu"]))),128))],512)):A("",!0)],34))}}}));var le=V(ae,[["__scopeId","data-v-b1d58302"]]);class de{constructor(t){D(this,"menu");this.menu=this.createMenu(t)}createMenu(t){const e=document.createElement("ul");if(e.classList.add("tree-custom-menu"),t&&t.length>0)for(let u of t){const s=document.createElement("li");s.textContent=u.name,s.onclick=u.onClick,e.appendChild(s)}return document.querySelector("body").appendChild(e),e}showMenu(t){const e=this.menu;e.style.top=`${t.clientY}px`,e.style.left=`${t.clientX}px`,e.style.display="block"}hiddenMenu(t){const e=this.menu;e.style.display="none"}}const ce={role:"tree"},ie={role:"group",class:"tree"},pe={name:"VTree"},me=w(b(B({},pe),{props:{data:null},setup(r){const t=r;Q(a=>({"2431009a":u.value,cca955a6:d.value}));let e=1;const d=_(0),u=_("none"),s=_([]),c=_({});function h(a,o){return a.map(i=>({id:e++,anchorID:o,text:i.text||"\u672A\u77E5\u6587\u4EF6",opended:i.opended||!1,selected:i.selected||!1,children:i.children?h(i.children,`${o}-${e-1}`):void 0,icon:i.icon||"",rename:i.rename||!1}))}U(()=>t.data,a=>{s.value=a.map(o=>({id:e++,text:o.text||"\u672A\u77E5\u6587\u4EF6",opended:o.opended||!1,selected:o.selected||!1,children:o.children?h(o.children,`${e-1}`):void 0,icon:o.icon||"",rename:o.rename||!1}))},{deep:!0,immediate:!0});const E={id:e++,text:"\u672A\u77E5\u6587\u4EF6",opended:!1,selected:!1,children:[],icon:"",rename:!0},g={id:e++,text:"\u672A\u77E5\u6587\u4EF6",opended:!1,selected:!1,icon:"",rename:!0};function p(a){W(()=>{const o=document.getElementById(`${a}`);o==null||o.focus()})}const n=new de([{name:"\u65B0\u5EFA\u76EE\u5F55",onClick:function(a){var o;n.hiddenMenu(a),(o=c.value.children)==null||o.push(E),p(E.id)}},{name:"\u65B0\u5EFA\u6587\u4EF6",onClick:function(a){var o;n.hiddenMenu(a),(o=c.value.children)==null||o.push(g),p(g.id)}},{name:"\u91CD\u547D\u540D",onClick:function(a){n.hiddenMenu(a),c.value.rename=!c.value.rename,p(c.value.id)}},{name:"\u5220\u9664",onClick:function(a){n.hiddenMenu(a),c.value.delete=!c.value.delete}}]);function v(a,o){a.preventDefault(),c.value=o,n.showMenu(a)}function k(a,o){d.value=a.target.offsetTop,u.value=o}return M.on("contextMenu",v),M.on("toggleSelectBar",k),(a,o)=>(m(),f("div",ce,[C("ul",ie,[(m(!0),f(N,null,T(s.value,(i,l)=>(m(),L(le,{key:l,data:i,menu:x(n)},null,8,["data","menu"]))),128))])]))}}));var S=V(me,[["__scopeId","data-v-c4e428c6"]]);const fe={style:{width:"300px",border:"1px solid #eee"}},_e=w({setup(r){const t=_([{text:"\u6587\u4EF6",children:[{text:"\u6587\u4EF61",children:[{text:"\u6587\u4EF61"},{text:"\u6587\u672C3",children:[{text:"\u6587\u4EF61"},{text:"\u6587\u672C3"}]}]},{text:"\u6587\u4EF63"},{text:"\u6587\u4EF63"}]},{text:"\u6587\u4EF6",children:[{text:"\u6587\u4EF61",children:[{text:"\u6587\u4EF61"}]}]},{text:"\u6587\u4EF6",children:[]}]);return console.log(S.name),(e,d)=>(m(),f("div",fe,[Z(S,{data:t.value},null,8,["data"])]))}});ee(_e).mount("#app");
